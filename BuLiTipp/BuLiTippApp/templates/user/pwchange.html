{% extends "base_site.html" %}
{% load i18n static %}
{% load url from future %}

{% block breadcrumbs %}
	<div class="breadcrumbs">
		<a href="{% url 'BuLiTippApp.views.index' %}">{% trans 'Home' %}</a>
		&rsaquo;
		<a href="{% url 'BuLiTippApp.views.account' %}">Benutzerverwaltung</a>
		&rsaquo; {% trans 'Password change' %}
	</div>
{% endblock %}

{% block title %}{% trans 'Password change' %}{% endblock %}

{% block content %}
{% include "css/BuLiTippApp.css" %}

<form action="{% url 'BuLiTippApp.views.change_pw' %}" method="POST">
	{% csrf_token %}
		<div>
			{% if form.errors %}
    			<p class="errornote">
    				{% blocktrans count counter=form.errors.items|length %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
    			</p>
			{% endif %}
			
			<h1>Passwort ändern</h1>
			<p>Bitte geben Sie aus Sicherheitsgründen erst Ihr altes Passwort und darunter dann zweimal (um sicherzustellen, dass Sie es korrekt eingegeben haben) das neue Passwort ein.</p>

			<fieldset class="module aligned wide">

				<div class="form-row">
					{{ form.old_password.errors }}
    				<label for="id_old_password" class="required">Altes Passwort:</label><input id="id_old_password" type="password" name="old_password" maxlength="4096">
				</div>

				<div class="form-row">
					{{ form.new_password1.errors }}
    				<label for="id_new_password1" class="required">Neues Passwort:</label><input id="id_new_password1" type="password" name="new_password1" maxlength="4096">
				</div>

				<div class="form-row">
					{{ form.new_password2.errors }}
				    <label for="id_new_password2" class="required">Passwort (wiederholen):</label><input id="id_new_password2" type="password" name="new_password2" maxlength="4096">
				</div>

			</fieldset>

			<div class="submit-row">
    			<input type="submit" value="Mein Passwort ändern" class="default">
    			<input type="submit" name="cancel" value="abbrechen" />
			</div>

			<script type="text/javascript">document.getElementById("id_old_password").focus();</script>
		</div>
</form>

{% endblock %}